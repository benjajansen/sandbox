<nav-bar></nav-bar>

<div *ngIf="!itemLinkAdded" class="greybackground">
  <div class="container">
    <mat-tab-group>
      <mat-tab label="Detail">

        <form (ngSubmit)="onSubmit()" [formGroup]="itemLinkForm" novalidate>
          <page-divider class="col-sm-12" heading="Item and Customer Information"></page-divider>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="itemAuto" style="display: block;">Item</label>
              </div>
              <div class="col-sm-8">
                <input type="text" placeholder="Search Item" aria-label="Search Item" matInput
                       formControlName="item" [matAutocomplete]="autoItem" id="itemAuto"
                       class="form-control dropdown-toggle" style="width: 100%;">
                <mat-autocomplete #autoItem="matAutocomplete" >
                  <mat-option *ngFor="let item of filteredItems" [value]="item.code">
                    {{ item.code }} | {{ item.description }} | {{ item.altCode }}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </div>
          </div>

          <div class="form-inline col-sm-4" [formGroup]="itemInfoForm" novalidate>
            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="description" style="display: block;">Item Description</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="description" type="text" formControlName="description" readonly style="width: 160%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="measure" style="display: block;">Unit of Measure</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="measure" type="text" formControlName="measure" readonly style="width: 100%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="group" style="display: block;">Group</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="group" type="text" formControlName="group" readonly style="width: 100%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="category" style="width: 120%;display: block;">Category</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="category" type="text" formControlName="category" readonly style="width: 100%;">
              </div>
              <br>
              <br>
            </div>
          </div>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12" style="height: 40px !important;"></div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;"></div>
              <div class="col-sm-8">
                <input type="checkbox" id="suspend" autocomplete="off" formControlName="suspend">
                <div class="btn-group">
                  <label for="suspend" class="btn btn-default">
                    <span class="glyphicon glyphicon-ok"></span>
                    <span></span>
                  </label>
                  <label for="suspend" class="btn btn-default active">
                    Suspended
                  </label>
                </div>
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="suspendDate" style="display: block;">Date Suspended</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="suspendDate" type="text" formControlName="suspendDate" readonly style="width: 100%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12" style="height: 40px !important;"></div>
          </div>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="debtorAuto" style="display: block;">Customer</label>
              </div>
              <div class="col-sm-8">
                <input type="text" placeholder="Search Customer" aria-label="Search Customer" matInput
                       formControlName="debtor" [matAutocomplete]="autoDebtor" id="debtorAuto"
                       class="form-control dropdown-toggle" style="width: 100%;">
                <mat-autocomplete #autoDebtor="matAutocomplete" >
                  <mat-option *ngFor="let debt of filteredDebtors" [value]="debt.accNo">
                    {{ debt.accNo }} | {{ debt.regName }} | {{ debt.tradeName }}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </div>
          </div>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="custName" style="display: block;">Customer Name</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="custName" type="text" readonly style="width: 160%;">
              </div>
              <br>
              <br>
            </div>
          </div>

          <br>
          <br>

          <page-divider class="col-sm-12" heading="Item Details"></page-divider>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="altCode" style="display: block;">Alternative Code</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="altCode" type="text" formControlName="alternativeCode" style="width: 160%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="minQty" style="display: block;">Min Qty</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="minQty" type="number" formControlName="minQty" required style="width: 100%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="maxQty" style="display: block;">Max Qty</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="maxQty" type="number" formControlName="maxQty" required style="width: 100%;">
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="reorderQty" style="display: block;">Reorder Qty</label>
              </div>
              <div class="col-sm-8">
                <input class="form-control" id="reorderQty" type="number" formControlName="reorderQty" required style="width: 100%;">
              </div>
              <br>
              <br>
            </div>
          </div>

          <div class="form-inline col-sm-4">
            <div class="form-group col-sm-12" style="height: 40px !important;"></div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;">
                <label class="control-label text-right" for="pickMethod" style="display: block;">Picking Order</label>
              </div>
              <div class="col-sm-8">
                <select class="form-control" formControlName="pickMethod" id="pickMethod" style="width: 100%;">
                  <option *ngFor="let keys of categories | sort" [value]="keys.value">{{keys.value}}</option>
                </select>
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;"></div>
              <div class="col-sm-8">
                <input type="checkbox" id="expiryDate" autocomplete="off" formControlName="expiryDate">
                <div class="btn-group">
                  <label for="expiryDate" class="btn btn-default">
                    <span class="glyphicon glyphicon-ok"></span>
                    <span></span>
                  </label>
                  <label for="expiryDate" class="btn btn-default active">
                    Expiry Date
                  </label>
                </div>
              </div>
              <br>
              <br>
            </div>

            <div class="form-group col-sm-12">
              <div class="col-sm-4" style="vertical-align: center;"></div>
              <div class="col-sm-8">
                <input type="checkbox" id="bestBefore" autocomplete="off" formControlName="bestBefore">
                <div class="btn-group">
                  <label for="bestBefore" class="btn btn-default">
                    <span class="glyphicon glyphicon-ok"></span>
                    <span></span>
                  </label>
                  <label for="bestBefore" class="btn btn-default active">
                    Best Before Date
                  </label>
                </div>
              </div>
              <br>
              <br>
            </div>
          </div>

          <div class="form-inline col-sm-8">
            <div class="form-group col-sm-12">
              <div class="col-sm-2" style="vertical-align: center;">
                <label class="control-label text-right" for="comments" style="display: block;">Comments</label>
              </div>
              <div class="col-sm-10">
                <textarea class="form-control" formControlName="comments" id="comments" matInput style="width: 100%; height: 100px; float: right; margin-right: 5px;"></textarea>
              </div>
              <br>
              <br>
            </div>
          </div>

          <page-divider class="col-sm-12" heading="Item Summary"></page-divider>
          <div class="col-sm-12">
            <form class="form-inline col-sm-4">
              <div class="form-group col-sm-12">
                <label class="control-label">Qty On Order</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>
            </form>
          </div>

          <div class="col-sm-12">
            <form class="form-inline col-sm-4">
              <div class="form-group col-sm-12">
                <label class="control-label">Qty Received</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Qty Issued</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Qty On Hand</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>
            </form>

            <form class="form-inline col-sm-4">
              <div class="form-group col-sm-12">
                <label class="control-label">Nett Weight Received</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Nett Weight Issued</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Nett Weight On Hand</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>
            </form>

            <form class="form-inline col-sm-4">
              <div class="form-group col-sm-12">
                <label class="control-label">No Pallets Received</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">No Pallets Issued</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">No Pallets On Hand</label>
                <input type="text" class="form-control pull-right" readonly style="width: 50%;">
                <br>
                <br>
              </div>
            </form>
          </div>

          <div class="form-group">
            <div class="col-sm-offset-0 col-sm-10">

              <button *ngIf="itemLinkForm.valid" type="button" class="btn btn-default" (click)="modal.show()">Submit</button>
              <!--
              <button *ngIf="itemLinkForm.valid && !selectorForm.controls.codeDrop.dirty" type="submit" class="btn btn-default">Submit</button>
              <button *ngIf="itemLinkForm.valid && selectorForm.controls.codeDrop.dirty" type="button" class="btn btn-default" (click)="onUpdate()">Update</button>
              -->
              <br>
              <br>
              <br>
              <br>
            </div>

          </div>
        </form>

      </mat-tab>
      <mat-tab label="Ordered" >
        <page-divider class="col-sm-12" heading="Filter"></page-divider>

        <page-divider class="col-sm-12"></page-divider>

        <page-divider class="col-sm-12" heading="Warehouse Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Branch Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Item Summary"></page-divider>
      </mat-tab>
      <mat-tab label="Received" >
        <page-divider class="col-sm-12" heading="Filter"></page-divider>

        <page-divider class="col-sm-12"></page-divider>

        <page-divider class="col-sm-12" heading="Warehouse Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Branch Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Item Summary"></page-divider>
      </mat-tab>
      <mat-tab label="Issued" >
        <page-divider class="col-sm-12" heading="Filter"></page-divider>

        <page-divider class="col-sm-12"></page-divider>

        <page-divider class="col-sm-12" heading="Warehouse Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Branch Summary"></page-divider>

        <page-divider class="col-sm-12" heading="Item Summary"></page-divider>
      </mat-tab>
    </mat-tab-group>

    <app-modal #modal>
      <div class="app-modal-header">
        Your form has errors.
      </div>
      <div class="app-modal-body">

        <!--
        <div *ngIf="formErrors.code" class="alert alert-warning">
          <label>{{formErrors.code}}</label>
        </div>
        <div *ngIf="formErrors.altCode || !itemLinkForm.controls.altCode.valid" class="alert alert-warning">
          <label>{{formErrors.altCode}}</label>
        </div>
        <div *ngIf="formErrors.description || !itemLinkForm.controls.description.valid" class="alert alert-warning">
          <label>{{formErrors.description}}</label>
        </div>
      -->
        <label>4</label>
      </div>
    </app-modal>

  </div>
</div>
